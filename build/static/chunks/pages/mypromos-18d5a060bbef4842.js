(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[265],{3117:function(e,o,t){"use strict";var a=t(4836);o.Z=void 0;var r=a(t(4938)),i=t(5893),n=(0,r.default)((0,i.jsx)("path",{d:"m16 6 2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z"}),"TrendingUp");o.Z=n},629:function(e,o,t){"use strict";t.d(o,{Z:function(){return f}});var a=t(3366),r=t(7462),i=t(7294),n=t(6010),l=t(4780),s=t(1796),d=t(8271);let m=e=>((e<1?5.11916*e**2:4.5*Math.log(e+1)+2)/100).toFixed(2);var c=t(4502),p=t(1588),h=t(4867);function u(e){return(0,h.Z)("MuiPaper",e)}(0,p.Z)("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);var v=t(5893);let _=["className","component","elevation","square","variant"],y=e=>{let{square:o,elevation:t,variant:a,classes:r}=e,i={root:["root",a,!o&&"rounded","elevation"===a&&`elevation${t}`]};return(0,l.Z)(i,u,r)},g=(0,d.ZP)("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,o)=>{let{ownerState:t}=e;return[o.root,o[t.variant],!t.square&&o.rounded,"elevation"===t.variant&&o[`elevation${t.elevation}`]]}})(({theme:e,ownerState:o})=>{var t;return(0,r.Z)({backgroundColor:(e.vars||e).palette.background.paper,color:(e.vars||e).palette.text.primary,transition:e.transitions.create("box-shadow")},!o.square&&{borderRadius:e.shape.borderRadius},"outlined"===o.variant&&{border:`1px solid ${(e.vars||e).palette.divider}`},"elevation"===o.variant&&(0,r.Z)({boxShadow:(e.vars||e).shadows[o.elevation]},!e.vars&&"dark"===e.palette.mode&&{backgroundImage:`linear-gradient(${(0,s.Fq)("#fff",m(o.elevation))}, ${(0,s.Fq)("#fff",m(o.elevation))})`},e.vars&&{backgroundImage:null==(t=e.vars.overlays)?void 0:t[o.elevation]}))}),b=i.forwardRef(function(e,o){let t=(0,c.Z)({props:e,name:"MuiPaper"}),{className:i,component:l="div",elevation:s=1,square:d=!1,variant:m="elevation"}=t,p=(0,a.Z)(t,_),h=(0,r.Z)({},t,{component:l,elevation:s,square:d,variant:m}),u=y(h);return(0,v.jsx)(g,(0,r.Z)({as:l,ownerState:h,className:(0,n.default)(u.root,i),ref:o},p))});var f=b},4401:function(e,o,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/mypromos",function(){return t(4602)}])},1548:function(e,o,t){"use strict";var a=t(1294),r=t(9808);let i=async(e,o)=>{let t=(0,a.JU)(r.db,"promoter/".concat(e));try{let e=await (0,a.QT)(t);e.exists()?o(e.data()):console.log("some error occured")}catch(e){console.log(e)}};o.Z=i},4602:function(e,o,t){"use strict";t.r(o),t.d(o,{default:function(){return eh}});var a=t(5893),r=t(7294),i=t(1841),n=t.n(i),l=t(4024),s=t(5675),d=t.n(s),m=t(3366),c=t(7462),p=t(6010),h=t(4780);let u=r.createContext();var v=t(4502),_=t(8271),y=t(1588),g=t(4867);function b(e){return(0,g.Z)("MuiTable",e)}(0,y.Z)("MuiTable",["root","stickyHeader"]);let f=["className","component","padding","size","stickyHeader"],x=e=>{let{classes:o,stickyHeader:t}=e;return(0,h.Z)({root:["root",t&&"stickyHeader"]},b,o)},Z=(0,_.ZP)("table",{name:"MuiTable",slot:"Root",overridesResolver:(e,o)=>{let{ownerState:t}=e;return[o.root,t.stickyHeader&&o.stickyHeader]}})(({theme:e,ownerState:o})=>(0,c.Z)({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":(0,c.Z)({},e.typography.body2,{padding:e.spacing(2),color:(e.vars||e).palette.text.secondary,textAlign:"left",captionSide:"bottom"})},o.stickyHeader&&{borderCollapse:"separate"})),j="table",P=r.forwardRef(function(e,o){let t=(0,v.Z)({props:e,name:"MuiTable"}),{className:i,component:n=j,padding:l="normal",size:s="medium",stickyHeader:d=!1}=t,h=(0,m.Z)(t,f),_=(0,c.Z)({},t,{component:n,padding:l,size:s,stickyHeader:d}),y=x(_),g=r.useMemo(()=>({padding:l,size:s,stickyHeader:d}),[l,s,d]);return(0,a.jsx)(u.Provider,{value:g,children:(0,a.jsx)(Z,(0,c.Z)({as:n,role:n===j?null:"table",ref:o,className:(0,p.default)(y.root,i),ownerState:_},h))})}),w=r.createContext();function N(e){return(0,g.Z)("MuiTableBody",e)}(0,y.Z)("MuiTableBody",["root"]);let k=["className","component"],T=e=>{let{classes:o}=e;return(0,h.Z)({root:["root"]},N,o)},M=(0,_.ZP)("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(e,o)=>o.root})({display:"table-row-group"}),R={variant:"body"},C="tbody",$=r.forwardRef(function(e,o){let t=(0,v.Z)({props:e,name:"MuiTableBody"}),{className:r,component:i=C}=t,n=(0,m.Z)(t,k),l=(0,c.Z)({},t,{component:i}),s=T(l);return(0,a.jsx)(w.Provider,{value:R,children:(0,a.jsx)(M,(0,c.Z)({className:(0,p.default)(s.root,r),as:i,ref:o,role:i===C?null:"rowgroup",ownerState:l},n))})});var H=t(1796),S=t(8216);function z(e){return(0,g.Z)("MuiTableCell",e)}let E=(0,y.Z)("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),F=["align","className","component","padding","scope","size","sortDirection","variant"],W=e=>{let{classes:o,variant:t,align:a,padding:r,size:i,stickyHeader:n}=e,l={root:["root",t,n&&"stickyHeader","inherit"!==a&&`align${(0,S.Z)(a)}`,"normal"!==r&&`padding${(0,S.Z)(r)}`,`size${(0,S.Z)(i)}`]};return(0,h.Z)(l,z,o)},O=(0,_.ZP)("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(e,o)=>{let{ownerState:t}=e;return[o.root,o[t.variant],o[`size${(0,S.Z)(t.size)}`],"normal"!==t.padding&&o[`padding${(0,S.Z)(t.padding)}`],"inherit"!==t.align&&o[`align${(0,S.Z)(t.align)}`],t.stickyHeader&&o.stickyHeader]}})(({theme:e,ownerState:o})=>(0,c.Z)({},e.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:e.vars?`1px solid ${e.vars.palette.TableCell.border}`:`1px solid
    ${"light"===e.palette.mode?(0,H.$n)((0,H.Fq)(e.palette.divider,1),.88):(0,H._j)((0,H.Fq)(e.palette.divider,1),.68)}`,textAlign:"left",padding:16},"head"===o.variant&&{color:(e.vars||e).palette.text.primary,lineHeight:e.typography.pxToRem(24),fontWeight:e.typography.fontWeightMedium},"body"===o.variant&&{color:(e.vars||e).palette.text.primary},"footer"===o.variant&&{color:(e.vars||e).palette.text.secondary,lineHeight:e.typography.pxToRem(21),fontSize:e.typography.pxToRem(12)},"small"===o.size&&{padding:"6px 16px",[`&.${E.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}},"checkbox"===o.padding&&{width:48,padding:"0 0 0 4px"},"none"===o.padding&&{padding:0},"left"===o.align&&{textAlign:"left"},"center"===o.align&&{textAlign:"center"},"right"===o.align&&{textAlign:"right",flexDirection:"row-reverse"},"justify"===o.align&&{textAlign:"justify"},o.stickyHeader&&{position:"sticky",top:0,zIndex:2,backgroundColor:(e.vars||e).palette.background.default})),q=r.forwardRef(function(e,o){let t;let i=(0,v.Z)({props:e,name:"MuiTableCell"}),{align:n="inherit",className:l,component:s,padding:d,scope:h,size:_,sortDirection:y,variant:g}=i,b=(0,m.Z)(i,F),f=r.useContext(u),x=r.useContext(w),Z=x&&"head"===x.variant,j=h;"td"===(t=s||(Z?"th":"td"))?j=void 0:!j&&Z&&(j="col");let P=g||x&&x.variant,N=(0,c.Z)({},i,{align:n,component:t,padding:d||(f&&f.padding?f.padding:"normal"),size:_||(f&&f.size?f.size:"medium"),sortDirection:y,stickyHeader:"head"===P&&f&&f.stickyHeader,variant:P}),k=W(N),T=null;return y&&(T="asc"===y?"ascending":"descending"),(0,a.jsx)(O,(0,c.Z)({as:t,ref:o,className:(0,p.default)(k.root,l),"aria-sort":T,scope:j,ownerState:N},b))});function A(e){return(0,g.Z)("MuiTableContainer",e)}(0,y.Z)("MuiTableContainer",["root"]);let D=["className","component"],B=e=>{let{classes:o}=e;return(0,h.Z)({root:["root"]},A,o)},I=(0,_.ZP)("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(e,o)=>o.root})({width:"100%",overflowX:"auto"}),V=r.forwardRef(function(e,o){let t=(0,v.Z)({props:e,name:"MuiTableContainer"}),{className:r,component:i="div"}=t,n=(0,m.Z)(t,D),l=(0,c.Z)({},t,{component:i}),s=B(l);return(0,a.jsx)(I,(0,c.Z)({ref:o,as:i,className:(0,p.default)(s.root,r),ownerState:l},n))});function J(e){return(0,g.Z)("MuiTableHead",e)}(0,y.Z)("MuiTableHead",["root"]);let L=["className","component"],X=e=>{let{classes:o}=e;return(0,h.Z)({root:["root"]},J,o)},Q=(0,_.ZP)("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(e,o)=>o.root})({display:"table-header-group"}),U={variant:"head"},G="thead",K=r.forwardRef(function(e,o){let t=(0,v.Z)({props:e,name:"MuiTableHead"}),{className:r,component:i=G}=t,n=(0,m.Z)(t,L),l=(0,c.Z)({},t,{component:i}),s=X(l);return(0,a.jsx)(w.Provider,{value:U,children:(0,a.jsx)(Q,(0,c.Z)({as:i,className:(0,p.default)(s.root,r),ref:o,role:i===G?null:"rowgroup",ownerState:l},n))})});function Y(e){return(0,g.Z)("MuiTableRow",e)}let ee=(0,y.Z)("MuiTableRow",["root","selected","hover","head","footer"]),eo=["className","component","hover","selected"],et=e=>{let{classes:o,selected:t,hover:a,head:r,footer:i}=e;return(0,h.Z)({root:["root",t&&"selected",a&&"hover",r&&"head",i&&"footer"]},Y,o)},ea=(0,_.ZP)("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(e,o)=>{let{ownerState:t}=e;return[o.root,t.head&&o.head,t.footer&&o.footer]}})(({theme:e})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${ee.hover}:hover`]:{backgroundColor:(e.vars||e).palette.action.hover},[`&.${ee.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:(0,H.Fq)(e.palette.primary.main,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:(0,H.Fq)(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity)}}})),er=r.forwardRef(function(e,o){let t=(0,v.Z)({props:e,name:"MuiTableRow"}),{className:i,component:n="tr",hover:l=!1,selected:s=!1}=t,d=(0,m.Z)(t,eo),h=r.useContext(w),u=(0,c.Z)({},t,{component:n,hover:l,selected:s,head:h&&"head"===h.variant,footer:h&&"footer"===h.variant}),_=et(u);return(0,a.jsx)(ea,(0,c.Z)({as:n,ref:o,className:(0,p.default)(_.root,i),role:"tr"===n?null:"row",ownerState:u},d))});var ei=t(629),en=t(3117),el=t(1649),es=t(1548),ed=t(1294),em=t(9808);let ec=async(e,o)=>{let t=(0,ed.hJ)(em.db,"promoter/".concat(e,"/promotion"));try{let e=await (0,ed.PL)(t),a=[];e.forEach(async e=>{a.push(e.data())}),o(a)}catch(e){console.log(e)}};function ep(){let[e,o]=(0,r.useState)(!0),[t,i]=(0,r.useState)({}),[s,m]=(0,r.useState)([]),[c,p]=(0,r.useState)([]),h=(0,el.v9)(e=>{var o;return null==e?void 0:null===(o=e.userId)||void 0===o?void 0:o.userId});return(0,r.useEffect)(()=>{let e=[];s.length>0&&s.map(o=>{e.push({PromoDate:null==o?void 0:o.eventTimeStamp,Name:null==t?void 0:t.name,Validity:null==o?void 0:o.validTo})}),p(e)},[s]),(0,r.useEffect)(()=>{h.length>0&&((0,es.Z)(h,i),ec(h,m))},[h]),(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:n().mypromos,children:[(0,a.jsxs)("div",{className:n().mypromos_head,children:[(0,a.jsx)("h1",{className:n().myPromos_head_heading,children:"My Promotions"}),(0,a.jsxs)("ol",{className:n().myPromos_head_right,children:[(0,a.jsx)("li",{className:n().myPromos_head_right_item,children:(0,a.jsx)("button",{className:n().myPromos_head_right_btn,children:"Create new promotion"})}),(0,a.jsx)("li",{className:n().myPromos_head_right_item,children:(0,a.jsx)(d(),{className:n().myPromos_head_img,src:l.Z,alt:"none"})})]})]}),(0,a.jsxs)("div",{className:n().mypromos_body,children:[(0,a.jsxs)("div",{className:n().mypromos_body_head,children:[(0,a.jsx)("button",{onClick:()=>o(!0),className:e?n().mypromos_body_head_btn_active:n().mypromos_body_head_btn,children:"Active Promotions"}),(0,a.jsx)("button",{onClick:()=>o(!1),className:e?n().mypromos_body_head_btn:n().mypromos_body_head_btn_active,children:"Past Promotions"})]}),(0,a.jsx)("div",{className:n().mypromos_body_main,children:(0,a.jsx)(V,{component:ei.Z,children:(0,a.jsxs)(P,{sx:{minWidth:650},"aria-label":"simple table",children:[(0,a.jsx)(K,{children:(0,a.jsxs)(er,{sx:{fontWeight:"800"},children:[(0,a.jsx)(q,{sx:{fontWeight:"900"},children:"Name"}),(0,a.jsx)(q,{sx:{fontWeight:"900"},align:"right",children:"Promo date"}),(0,a.jsx)(q,{sx:{fontWeight:"900"},align:"right",children:"Validity"}),(0,a.jsx)(q,{sx:{fontWeight:"900"},align:"right",children:"Performance"}),(0,a.jsx)(q,{sx:{fontWeight:"900"},align:"right",children:"Validate"})]})}),(0,a.jsx)($,{children:c.map(e=>(0,a.jsxs)(er,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,a.jsx)(q,{component:"th",scope:"row",children:e.Name}),(0,a.jsx)(q,{align:"right",children:e.PromoDate}),(0,a.jsx)(q,{align:"right",children:e.Validity}),(0,a.jsx)(q,{align:"right",sx:{paddingRight:"45px"},children:(0,a.jsx)("button",{className:n().validate_info_graph,children:(0,a.jsx)(en.Z,{})})}),(0,a.jsx)(q,{align:"right",children:(0,a.jsx)("button",{className:n().validate_info,children:"Click Here"})})]},e.Name))})]})})})]})]})})}function eh(){return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(ep,{})})}},1841:function(e){e.exports={mypromos:"mypromos_mypromos__9DtvF",mypromos_head:"mypromos_mypromos_head__Wnrsw",myPromos_head_heading:"mypromos_myPromos_head_heading__BcjPJ",myPromos_head_right:"mypromos_myPromos_head_right__3e3Ee",myPromos_head_right_item:"mypromos_myPromos_head_right_item__yO7gm",myPromos_head_right_btn:"mypromos_myPromos_head_right_btn__iIPDL",myPromos_head_img:"mypromos_myPromos_head_img__FrWs_",mypromos_body:"mypromos_mypromos_body__Dd32v",mypromos_body_head:"mypromos_mypromos_body_head__hlii3",mypromos_body_head_btn:"mypromos_mypromos_body_head_btn__DhJNd",mypromos_body_head_btn_active:"mypromos_mypromos_body_head_btn_active__EExPO",mypromos_body_main:"mypromos_mypromos_body_main__bBtrb",validate_info_graph:"mypromos_validate_info_graph__3Qgpj",validate_info:"mypromos_validate_info__NiaRV"}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=4401)}),_N_E=e.O()}]);